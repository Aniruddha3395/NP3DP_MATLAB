//simple A4988 connection
//jumper reset and sleep together
//connect  VDD to Arduino 3.3v or 5v
//connect  GND to Arduino GND (GND near VDD)
//connect  1A and 1B to stepper coil 1
//connect 2A and 2B to stepper coil 2
//connect VMOT to power source (9v battery + term)
//connect GRD to power source (9v battery - term)


int stp = 9;  //connect pin 13 to step
int dir = 8;  // connect pin 12 to dir
//int i = -1;     //  gen counter
long del0=1000;
long del1=100;
int start_state = 1; 
int start_pin = 4;
//int toggle = 1;
//byte vel[]={
//32,32,32,32,32,32,152,228,42,83,126,73,32,72,71,69,67,32,67,68,69,71,72,74,78,80,136,149,249,74,32,32,32,32,32,32,32,32,32,32,32,32,32,152,236,39,130,76,73,72,71,69,32,68,67,67,32,69,71,72,74,77,80,135,125,179,152,32,32,32,32,32,32,32,32,32,32,32,32,32,152,179,125,135,80,77,74,72,71,69,32,67,67,68,32,69,71,72,73,76,130,39,236,152,32,32,32,32,32,32,32,32,32,32,32,32,32,74,249,149,136,80,78,74,72,71,69,68,67,32,67,69,71,72,32,73,126,83,42,228,152,32,32,32,32,32,32,32,32,32,32,32,32,32,74,186,218,102,131,76,73,72,32,71,69,67,67,32,68,69,71,72,74,77,80,131,215,186,74,32,32,32,32,32,32,32,32,32,32,32,32,32,223,167,39,134,77,73,72,71,69,32,68,67,67,69,32,71,72,73,77,134,133,174,250,74,32,32,32,32,32,32,32,32,32,32,32,32,32,152,238,68,140,80,77,74,72,71,69,67,32,67,68,69,32,70,71,73,127,142,142,178,152,32,32,32,32,32,32,32,32,32,32,32,32,32,152,178,142,142,127,73,71,70,32,69,68,67,32,67,69,71,72,74,77,80,140,68,238,152,32,32,32,32,32,32,32,32,32,32,32,32,32,74,250,174,133,134,77,73,72,71,32,69,67,67,68,32,69,71,72,73,77,134,39,167,223,32,32,32,32,32,32,32,32,32,32,32,32,32,74,186,215,131,80,77,74,72,71,69,68,32,67,67,69,71,32,72,73,76,131,102,218,186,74,32,32,32,32,32,32,32,32,32,32,32,32,32,152,228,42,83,126,73,32,72,71,69,67,32,67,68,69,71,72,74,78,80,136,149,249,74,32,32,32,32,32,32,32,32,32,32,32,32,32,152,236,39,130,76,73,72,71,69,32,68,67,67,32,69,71,72,74,77,80,135,125,179,152,32,32,32,32,32,32,32,32,32,32,32,32,32,152,179,125,135,80,77,74,72,71,69,32,67,67,68,32,69,71,72,73,76,130,39,236,152,32,32,32,32,32,32,32,32,32,32,32,32,32,74,249,149,136,80,78,74,72,71,69,68,67,32,67,69,71,72,32,73,126,83,42,228,152,32,32,32,32,32,32,32,32,32,32,32,32,32,74,186,218,102,131,76,73,72,32,71,69,67,67,32,68,69,71,72,74,77,80,131,215,186,74,32,32,32,32,32,32,32,32,32,32,32,32,32,223,167,39,134,77,73,72,71,69,32,68,67,67,69,32,71,72,73,77,134,133,174,250,74,32,32,32,32,32,32,32,32,32,32,32,32,32,152,238,68,140,80,77,74,72,71,69,67,32,67,68,69,32,70,71,73,127,142,142,178,152,32,32,32,32,32,32,32,32,32,32,32,32,32,152,178,142,142,127,73,71,70,32,69,68,67,32,67,69,71,72,74,77,80,140,68,238,152,32,32,32,32,32,32,32,32,32,32,32,32,32,74,250,174,133,134,77,73,72,71,32,69,67,67,68,32,69,71,72,73,77,134,39,167,223,32,32,32,32,32,32,32,32,32,32,32,32,32,74,186,215,131,80,77,74,72,71,69,68,32,67,67,69,71,32,72,73,76,131,102,218,186,74,32,32,32,32,32,32,32,32,32,32,32,32,32,152,228,42,83,126,73,32,72,71,69,67,32,67,68,69,71,72,74,78,80,136,149,249,74,32,32,32,32,32,32,32,32,32,32,32,32,32,152,236,39,130,76,73,72,71,69,32,68,67,67,32,69,71,72,74,77,80,135,125,179,152,32,32,32,32,32,32,32,32,32,32,32,32,32,152,179,125,135,80,77,74,72,71,69,32,67,67,68,32,69,71,72,73,76,130,39,236,152,32,32,32,32,32,32,32,32,32,32,32,32,32,74,249,149,136,80,78,74,72,71,69,68,67,32,67,69,71,72,32,73,126,83,42,228,152,32,32,32,32,32,32,32,32,32,32,32,32,32,74,186,218,102,131,76,73,72,32,71,69,67,67,32,68,69,71,72,74,77,80,131,215,186,74,32,32,32,32,32,32,32,32,32,32,32,32,32,223,167,39,134,77,73,72,71,69,32,68,67,67,69,32,71,72,73,77,134,133,174,250,74,32,32,32,32,32,32,32,32,32,32,32,32,32,152,238,68,140,80,77,74,72,71,69,67,32,67,68,69,32,70,71,73,127,142,142,178,152,32,32,32,32,32,32,32,32,32,32,32,32,32,152,178,142,142,127,73,71,70,32,69,68,67,32,67,69,71,72,74,77,80,140,68,238,152,32,32,32,32,32,32,32,32,32,32,32,32,32,74,250,174,133,134,77,73,72,71,32,69,67,67,68,32,69,71,72,73,77,134,39,167,223,32,32,32,32,32,32

//1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,300
//};

void setup() 
{  
  Serial.begin(9600);              
  pinMode(stp, OUTPUT);
  pinMode(dir, OUTPUT); 
  pinMode(start_pin, INPUT);      
}


void loop() 
{
  start_state = digitalRead(start_pin);
  if (start_state==1)
  {
    del0 = 50*32;
//    Serial.println(del0);
    digitalWrite(dir, HIGH);
    digitalWrite(stp, HIGH);   
    delayMicroseconds(del0);               
    digitalWrite(stp, LOW);  
   delayMicroseconds(del0);
}
}
